{% include base_path %}

<!-- start custom head snippets -->

<!-- Support for Academicons -->
<link rel="stylesheet" href="{{ base_path }}/assets/css/academicons.css"/>

<!-- favicon from https://commons.wikimedia.org/wiki/File:OOjs_UI_icon_academic-progressive.svg -->
<link rel="apple-touch-icon" sizes="180x180" href="{{ base_path }}/images/apple-touch-icon-180x180.png"/>
<link rel="icon" type="image/svg+xml" href="{{ base_path }}/images/favicon.svg"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-32x32.png" sizes="32x32"/>
<link rel="icon" type="image/png" href="{{ base_path }}/images/favicon-192x192.png" sizes="192x192"/>
<link rel="manifest" href="{{ base_path }}/images/manifest.json"/>
<link rel="icon" href="/images/favicon.ico"/>
<meta name="theme-color" content="#ffffff"/>
<link rel="stylesheet" href="{{ '/assets/css/custom.css' | relative_url }}">

<script>
// Make all external links open in new tab - with debugging and delay
document.addEventListener('DOMContentLoaded', function() {
  console.log('Script loaded'); // Check if script runs at all
  
  function addTargetBlank() {
    // Target all links that go to external sites
    const links = document.querySelectorAll('a[href^="http"], a[href^="https"]');
    console.log('Found external links:', links.length); // Debug: how many links found
    
    links.forEach(function(link) {
      // Don't affect links that are already on the same domain
      if (link.hostname !== window.location.hostname) {
        link.setAttribute('target', '_blank');
        link.setAttribute('rel', 'noopener noreferrer');
        console.log('Modified link:', link.href); // Debug: which links modified
      }
    });
    
    // Also target specific internal links like PDFs
    const pdfLinks = document.querySelectorAll('a[href$=".pdf"]');
    console.log('Found PDF links:', pdfLinks.length); // Debug: PDF links
    pdfLinks.forEach(function(link) {
      link.setAttribute('target', '_blank');
      link.setAttribute('rel', 'noopener noreferrer');
    });
  }
  
  // Run immediately
  addTargetBlank();
  
  // Also run after a short delay to catch any dynamically added content
  setTimeout(addTargetBlank, 1000);
});
</script>

<!-- end custom head snippets -->
